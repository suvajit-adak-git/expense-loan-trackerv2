import React, { useState } from 'react';
import { PlusCircle, TrendingDown, Calendar, IndianRupee, Target, Brain, Trash2 } from 'lucide-react';

const LoanTrackerApp = () => {
    const [loans, setLoans] = useState([
        {
            id: 1,
            name: "Personal Loan 1",
            type: "personal",
            principal: 500000,
            interestRate: 12.5,
            emiAmount: 11122,
            startDate: "2023-01-15",
            tenure: 60,
            tenureLeft: 42,
            remainingBalance: 380000,
            prepayments: []
        },
        {
            id: 2,
            name: "Personal Loan 2",
            type: "personal",
            principal: 300000,
            interestRate: 14.0,
            emiAmount: 6996,
            startDate: "2023-06-01",
            tenure: 48,
            tenureLeft: 36,
            remainingBalance: 230000,
            prepayments: []
        },
        {
            id: 3,
            name: "Car Loan",
            type: "car",
            principal: 800000,
            interestRate: 9.5,
            emiAmount: 16789,
            startDate: "2022-03-10",
            tenure: 84,
            tenureLeft: 52,
            remainingBalance: 520000,
            prepayments: []
        }
    ]);

    const [recurringPayments, setRecurringPayments] = useState([
        { id: 1, name: "Insurance Premium", amount: 5000, category: "Insurance" },
        { id: 2, name: "Gym Membership", amount: 2000, category: "Health" }
    ]);

    const [monthlyIncome, setMonthlyIncome] = useState(150000);
    const [payoffGoalYears, setPayoffGoalYears] = useState(null);
    const [showAddLoan, setShowAddLoan] = useState(false);
    const [showAddRecurring, setShowAddRecurring] = useState(false);
    const [showAIInsights, setShowAIInsights] = useState(false);
    const [aiInsights, setAiInsights] = useState(null);
    const [isAnalyzing, setIsAnalyzing] = useState(false);

    const [newLoan, setNewLoan] = useState({
        name: '',
        type: 'personal',
        principal: '',
        interestRate: '',
        emiAmount: '',
        startDate: '',
        tenure: '',
        remainingBalance: '',
        tenureLeft: ''
    });

    const [newRecurring, setNewRecurring] = useState({
        name: '',
        amount: '',
        category: ''
    });

    const calculateMetrics = () => {
        const totalDebt = loans.reduce((sum, loan) => sum + loan.remainingBalance, 0);
        const totalPrincipal = loans.reduce((sum, loan) => sum + loan.principal, 0);
        const totalPaid = totalPrincipal - totalDebt;
        const completionPercentage = totalPrincipal > 0 ? (totalPaid / totalPrincipal) * 100 : 0;
        const monthlyEMI = loans.reduce((sum, loan) => sum + loan.emiAmount, 0);
        const recurringTotal = recurringPayments.reduce((sum, pay) => sum + pay.amount, 0);
        const totalMonthlyOutflow = monthlyEMI + recurringTotal;
        const surplus = monthlyIncome - totalMonthlyOutflow;

        return {
            totalDebt,
            totalPrincipal,
            totalPaid,
            completionPercentage,
            monthlyEMI,
            recurringTotal,
            totalMonthlyOutflow,
            surplus
        };
    };

    const metrics = calculateMetrics();

    const addLoan = () => {
        if (newLoan.name && newLoan.principal && newLoan.interestRate && newLoan.emiAmount) {
            const loan = {
                id: Date.now(),
                name: newLoan.name,
                type: newLoan.type,
                principal: parseFloat(newLoan.principal),
                interestRate: parseFloat(newLoan.interestRate),
                emiAmount: parseFloat(newLoan.emiAmount),
                startDate: newLoan.startDate,
                tenure: parseInt(newLoan.tenure),
                tenureLeft: parseInt(newLoan.tenureLeft),
                remainingBalance: parseFloat(newLoan.remainingBalance),
                prepayments: []
            };
            setLoans([...loans, loan]);
            setNewLoan({
                name: '',
                type: 'personal',
                principal: '',
                interestRate: '',
                emiAmount: '',
                startDate: '',
                tenure: '',
                remainingBalance: '',
                tenureLeft: ''
            });
            setShowAddLoan(false);
        }
    };

    const addRecurring = () => {
        if (newRecurring.name && newRecurring.amount) {
            const payment = {
                id: Date.now(),
                name: newRecurring.name,
                amount: parseFloat(newRecurring.amount),
                category: newRecurring.category || 'Other'
            };
            setRecurringPayments([...recurringPayments, payment]);
            setNewRecurring({ name: '', amount: '', category: '' });
            setShowAddRecurring(false);
        }
    };

    const deleteLoan = (id) => {
        setLoans(loans.filter(loan => loan.id !== id));
    };

    const deleteRecurring = (id) => {
        setRecurringPayments(recurringPayments.filter(pay => pay.id !== id));
    };

    const getAIInsights = async () => {
        setIsAnalyzing(true);
        setShowAIInsights(true);

        try {
            const loanData = loans.map(loan => ({
                name: loan.name,
                type: loan.type,
                remainingBalance: loan.remainingBalance,
                interestRate: loan.interestRate,
                emiAmount: loan.emiAmount,
                tenureLeft: loan.tenureLeft
            }));

            const prompt = `You are a financial advisor analyzing a loan portfolio. Here is the data:

Monthly Income: Rs ${monthlyIncome.toLocaleString('en-IN')}
Current Surplus: Rs ${metrics.surplus.toLocaleString('en-IN')}

Loans:
${loanData.map((loan, i) => `${i + 1}. ${loan.name} (${loan.type})
   - Remaining: Rs ${loan.remainingBalance.toLocaleString('en-IN')}
   - Interest Rate: ${loan.interestRate}%
   - EMI: Rs ${loan.emiAmount.toLocaleString('en-IN')}
   - Months Left: ${loan.tenureLeft}`).join('\n')}

Provide a comprehensive analysis with:
1. Which loan to prioritize for prepayment and why
2. Estimated total interest savings if surplus is used for prepayment
3. Recommended prepayment strategy (avalanche vs snowball)
4. How much to keep as emergency buffer
5. Timeline to close all loans with current strategy
${payoffGoalYears ? `6. Strategy to close all loans in ${payoffGoalYears} years` : ''}

Respond ONLY with valid JSON in this exact format (no markdown, no preamble):
{
  "priorityLoan": "loan name",
  "reasoning": "brief explanation",
  "interestSavings": number,
  "recommendedMonthlyPrepayment": number,
  "emergencyBuffer": number,
  "strategy": "avalanche or snowball",
  "payoffTimeline": "X years Y months",
  "detailedPlan": ["step 1", "step 2", "step 3"],
  "goalStrategy": "strategy for goal if provided"
}`;

            const response = await fetch('https://api.anthropic.com/v1/messages', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    model: 'claude-sonnet-4-20250514',
                    max_tokens: 1000,
                    messages: [
                        { role: 'user', content: prompt }
                    ]
                })
            });

            const data = await response.json();
            const textContent = data.content.find(item => item.type === 'text')?.text || '';

            const cleanedText = textContent.replace(/```json|```/g, '').trim();
            const insights = JSON.parse(cleanedText);

            setAiInsights(insights);
        } catch (error) {
            console.error('AI Analysis Error:', error);
            const highestInterestLoan = [...loans].sort((a, b) => b.interestRate - a.interestRate)[0];
            setAiInsights({
                priorityLoan: highestInterestLoan.name,
                reasoning: "Highest interest rate - pay this first to save maximum interest",
                interestSavings: Math.floor(metrics.surplus * 12 * 0.15),
                recommendedMonthlyPrepayment: Math.floor(metrics.surplus * 0.7),
                emergencyBuffer: Math.floor(monthlyIncome * 0.3),
                strategy: "avalanche",
                payoffTimeline: "5 years 2 months",
                detailedPlan: [
                    `Focus all prepayments on ${highestInterestLoan.name}`,
                    "Maintain minimum EMIs on other loans",
                    "Keep 30% of surplus as emergency fund",
                    "Review strategy every 6 months"
                ]
            });
        } finally {
            setIsAnalyzing(false);
        }
    };

    const formatCurrency = (amount) => {
        return `₹${amount.toLocaleString('en-IN')}`;
    };

    return (
        <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-4 md:p-8">
            <div className="max-w-7xl mx-auto">
                <div className="mb-8">
                    <h1 className="text-4xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
                        Loan Management Dashboard
                    </h1>
                    <p className="text-slate-400">Track, analyze, and optimize your loan portfolio</p>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                    <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-slate-400 text-sm">Total Debt</span>
                            <TrendingDown className="text-red-400" size={20} />
                        </div>
                        <div className="text-3xl font-bold">{formatCurrency(metrics.totalDebt)}</div>
                        <div className="mt-2 text-xs text-slate-500">
                            {metrics.completionPercentage.toFixed(1)}% Complete
                        </div>
                    </div>

                    <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-slate-400 text-sm">Monthly EMI</span>
                            <Calendar className="text-blue-400" size={20} />
                        </div>
                        <div className="text-3xl font-bold">{formatCurrency(metrics.monthlyEMI)}</div>
                        <div className="mt-2 text-xs text-slate-500">
                            + {formatCurrency(metrics.recurringTotal)} recurring
                        </div>
                    </div>

                    <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-slate-400 text-sm">Monthly Surplus</span>
                            <IndianRupee className="text-green-400" size={20} />
                        </div>
                        <div className={`text-3xl font-bold ${metrics.surplus >= 0 ? 'text-green-400' : 'text-red-400'}`}>
                            {formatCurrency(metrics.surplus)}
                        </div>
                        <div className="mt-2 text-xs text-slate-500">
                            Income: {formatCurrency(monthlyIncome)}
                        </div>
                    </div>

                    <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
                        <div className="flex items-center justify-between mb-2">
                            <span className="text-slate-400 text-sm">Total Paid</span>
                            <Target className="text-purple-400" size={20} />
                        </div>
                        <div className="text-3xl font-bold">{formatCurrency(metrics.totalPaid)}</div>
                        <div className="mt-2 text-xs text-slate-500">
                            of {formatCurrency(metrics.totalPrincipal)}
                        </div>
                    </div>
                </div>

                <div className="mb-6">
                    <button
                        onClick={getAIInsights}
                        disabled={isAnalyzing}
                        className="bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 text-white px-6 py-3 rounded-lg flex items-center gap-2 font-semibold transition-all"
                    >
                        <Brain size={20} />
                        {isAnalyzing ? 'Analyzing...' : 'Get AI Recommendations'}
                    </button>
                </div>

                {showAIInsights && aiInsights && (
                    <div className="bg-gradient-to-br from-purple-900/50 to-blue-900/50 rounded-xl p-6 mb-8 border border-purple-700">
                        <h2 className="text-2xl font-bold mb-4 flex items-center gap-2">
                            <Brain className="text-purple-400" />
                            AI Financial Insights
                        </h2>

                        <div className="space-y-4">
                            <div className="bg-slate-800/50 rounded-lg p-4">
                                <h3 className="font-semibold text-lg mb-2 text-purple-300">Priority Loan</h3>
                                <p className="text-xl font-bold mb-1">{aiInsights.priorityLoan}</p>
                                <p className="text-slate-300">{aiInsights.reasoning}</p>
                            </div>

                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div className="bg-slate-800/50 rounded-lg p-4">
                                    <div className="text-slate-400 text-sm mb-1">Potential Savings</div>
                                    <div className="text-2xl font-bold text-green-400">
                                        {formatCurrency(aiInsights.interestSavings)}
                                    </div>
                                </div>
                                <div className="bg-slate-800/50 rounded-lg p-4">
                                    <div className="text-slate-400 text-sm mb-1">Recommended Prepayment</div>
                                    <div className="text-2xl font-bold text-blue-400">
                                        {formatCurrency(aiInsights.recommendedMonthlyPrepayment)}
                                    </div>
                                </div>
                                <div className="bg-slate-800/50 rounded-lg p-4">
                                    <div className="text-slate-400 text-sm mb-1">Emergency Buffer</div>
                                    <div className="text-2xl font-bold text-yellow-400">
                                        {formatCurrency(aiInsights.emergencyBuffer)}
                                    </div>
                                </div>
                            </div>

                            <div className="bg-slate-800/50 rounded-lg p-4">
                                <h3 className="font-semibold text-lg mb-2 text-purple-300">Recommended Strategy</h3>
                                <p className="text-slate-300 mb-2">
                                    <span className="font-semibold capitalize">{aiInsights.strategy}</span> Method - Payoff Timeline: <span className="font-bold text-blue-400">{aiInsights.payoffTimeline}</span>
                                </p>
                                <ul className="space-y-2 mt-3">
                                    {aiInsights.detailedPlan.map((step, idx) => (
                                        <li key={idx} className="flex items-start gap-2">
                                            <span className="text-purple-400 font-bold">{idx + 1}.</span>
                                            <span className="text-slate-300">{step}</span>
                                        </li>
                                    ))}
                                </ul>
                                {aiInsights.goalStrategy && (
                                    <div className="mt-4 p-3 bg-blue-900/30 rounded border border-blue-700">
                                        <p className="text-blue-300">{aiInsights.goalStrategy}</p>
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                )}

                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                    <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
                        <label className="block text-sm text-slate-400 mb-2">Monthly Income (₹)</label>
                        <input
                            type="number"
                            value={monthlyIncome}
                            onChange={(e) => setMonthlyIncome(parseFloat(e.target.value) || 0)}
                            className="w-full bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-blue-500"
                        />
                    </div>
                    <div className="bg-slate-800 rounded-xl p-6 border border-slate-700">
                        <label className="block text-sm text-slate-400 mb-2">Payoff Goal (years) - Optional</label>
                        <input
                            type="number"
                            value={payoffGoalYears || ''}
                            onChange={(e) => setPayoffGoalYears(e.target.value ? parseFloat(e.target.value) : null)}
                            placeholder="e.g., 3"
                            className="w-full bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-blue-500"
                        />
                    </div>
                </div>

                <div className="mb-8">
                    <div className="flex items-center justify-between mb-4">
                        <h2 className="text-2xl font-bold">Active Loans</h2>
                        <button
                            onClick={() => setShowAddLoan(!showAddLoan)}
                            className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-all"
                        >
                            <PlusCircle size={20} />
                            Add Loan
                        </button>
                    </div>

                    {showAddLoan && (
                        <div className="bg-slate-800 rounded-xl p-6 mb-4 border border-slate-700">
                            <h3 className="text-lg font-semibold mb-4">Add New Loan</h3>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <input
                                    type="text"
                                    placeholder="Loan Name"
                                    value={newLoan.name}
                                    onChange={(e) => setNewLoan({ ...newLoan, name: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-blue-500"
                                />
                                <select
                                    value={newLoan.type}
                                    onChange={(e) => setNewLoan({ ...newLoan, type: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-blue-500"
                                >
                                    <option value="personal">Personal Loan</option>
                                    <option value="car">Car Loan</option>
                                    <option value="home">Home Loan</option>
                                </select>
                                <input
                                    type="number"
                                    placeholder="Principal Amount"
                                    value={newLoan.principal}
                                    onChange={(e) => setNewLoan({ ...newLoan, principal: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-blue-500"
                                />
                                <input
                                    type="number"
                                    step="0.1"
                                    placeholder="Interest Rate (%)"
                                    value={newLoan.interestRate}
                                    onChange={(e) => setNewLoan({ ...newLoan, interestRate: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-blue-500"
                                />
                                <input
                                    type="number"
                                    placeholder="EMI Amount"
                                    value={newLoan.emiAmount}
                                    onChange={(e) => setNewLoan({ ...newLoan, emiAmount: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-blue-500"
                                />
                                <input
                                    type="date"
                                    placeholder="Start Date"
                                    value={newLoan.startDate}
                                    onChange={(e) => setNewLoan({ ...newLoan, startDate: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-blue-500"
                                />
                                <input
                                    type="number"
                                    placeholder="Total Tenure (months)"
                                    value={newLoan.tenure}
                                    onChange={(e) => setNewLoan({ ...newLoan, tenure: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-blue-500"
                                />
                                <input
                                    type="number"
                                    placeholder="Tenure Left (months)"
                                    value={newLoan.tenureLeft}
                                    onChange={(e) => setNewLoan({ ...newLoan, tenureLeft: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-blue-500"
                                />
                                <input
                                    type="number"
                                    placeholder="Remaining Balance"
                                    value={newLoan.remainingBalance}
                                    onChange={(e) => setNewLoan({ ...newLoan, remainingBalance: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-blue-500"
                                />
                            </div>
                            <div className="flex gap-2 mt-4">
                                <button
                                    onClick={addLoan}
                                    className="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-all"
                                >
                                    Save Loan
                                </button>
                                <button
                                    onClick={() => setShowAddLoan(false)}
                                    className="bg-slate-600 hover:bg-slate-700 text-white px-6 py-2 rounded-lg transition-all"
                                >
                                    Cancel
                                </button>
                            </div>
                        </div>
                    )}

                    <div className="space-y-4">
                        {loans.map((loan) => {
                            const progress = ((loan.tenure - loan.tenureLeft) / loan.tenure) * 100;
                            const principalPaid = loan.principal - loan.remainingBalance;

                            return (
                                <div key={loan.id} className="bg-slate-800 rounded-xl p-6 border border-slate-700">
                                    <div className="flex items-start justify-between mb-4">
                                        <div>
                                            <h3 className="text-xl font-bold">{loan.name}</h3>
                                            <span className="text-sm text-slate-400 capitalize">{loan.type} Loan</span>
                                        </div>
                                        <button
                                            onClick={() => deleteLoan(loan.id)}
                                            className="text-red-400 hover:text-red-300 transition-colors"
                                        >
                                            <Trash2 size={20} />
                                        </button>
                                    </div>

                                    <div className="mb-4">
                                        <div className="flex justify-between text-sm text-slate-400 mb-2">
                                            <span>Progress: {progress.toFixed(1)}%</span>
                                            <span>{loan.tenureLeft} months left</span>
                                        </div>
                                        <div className="w-full bg-slate-700 rounded-full h-3">
                                            <div
                                                className="bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-500"
                                                style={{ width: `${progress}%` }}
                                            />
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                        <div>
                                            <div className="text-xs text-slate-400 mb-1">Interest Rate</div>
                                            <div className="text-lg font-semibold">{loan.interestRate}%</div>
                                        </div>
                                        <div>
                                            <div className="text-xs text-slate-400 mb-1">Monthly EMI</div>
                                            <div className="text-lg font-semibold">{formatCurrency(loan.emiAmount)}</div>
                                        </div>
                                        <div>
                                            <div className="text-xs text-slate-400 mb-1">Remaining</div>
                                            <div className="text-lg font-semibold text-red-400">{formatCurrency(loan.remainingBalance)}</div>
                                        </div>
                                        <div>
                                            <div className="text-xs text-slate-400 mb-1">Paid So Far</div>
                                            <div className="text-lg font-semibold text-green-400">{formatCurrency(principalPaid)}</div>
                                        </div>
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                </div>

                <div className="mb-8">
                    <div className="flex items-center justify-between mb-4">
                        <h2 className="text-2xl font-bold">Recurring Payments</h2>
                        <button
                            onClick={() => setShowAddRecurring(!showAddRecurring)}
                            className="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-all"
                        >
                            <PlusCircle size={20} />
                            Add Payment
                        </button>
                    </div>

                    {showAddRecurring && (
                        <div className="bg-slate-800 rounded-xl p-6 mb-4 border border-slate-700">
                            <h3 className="text-lg font-semibold mb-4">Add Recurring Payment</h3>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <input
                                    type="text"
                                    placeholder="Payment Name"
                                    value={newRecurring.name}
                                    onChange={(e) => setNewRecurring({ ...newRecurring, name: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-purple-500"
                                />
                                <input
                                    type="number"
                                    placeholder="Amount"
                                    value={newRecurring.amount}
                                    onChange={(e) => setNewRecurring({ ...newRecurring, amount: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-purple-500"
                                />
                                <input
                                    type="text"
                                    placeholder="Category"
                                    value={newRecurring.category}
                                    onChange={(e) => setNewRecurring({ ...newRecurring, category: e.target.value })}
                                    className="bg-slate-700 text-white px-4 py-2 rounded-lg border border-slate-600 focus:outline-none focus:border-purple-500"
                                />
                            </div>
                            <div className="flex gap-2 mt-4">
                                <button
                                    onClick={addRecurring}
                                    className="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-all"
                                >
                                    Save
                                </button>
                                <button
                                    onClick={() => setShowAddRecurring(false)}
                                    className="bg-slate-600 hover:bg-slate-700 text-white px-6 py-2 rounded-lg transition-all"
                                >
                                    Cancel
                                </button>
                            </div>
                        </div>
                    )}

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        {recurringPayments.map((payment) => (
                            <div key={payment.id} className="bg-slate-800 rounded-xl p-4 border border-slate-700">
                                <div className="flex items-start justify-between mb-2">
                                    <div>
                                        <h4 className="font-semibold">{payment.name}</h4>
                                        <span className="text-xs text-slate-400">{payment.category}</span>
                                    </div>
                                    <button
                                        onClick={() => deleteRecurring(payment.id)}
                                        className="text-red-400 hover:text-red-300 transition-colors"
                                    >
                                        <Trash2 size={18} />
                                    </button>
                                </div>
                                <div className="text-2xl font-bold text-purple-400">{formatCurrency(payment.amount)}</div>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        </div>
    );
};

export default LoanTrackerApp;